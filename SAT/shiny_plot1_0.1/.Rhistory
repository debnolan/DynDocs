coplot(sat ~ expend | frac, data = satDF, xlab = "Expenditure", ylab = "SAT score")
satDF = read.csv("http://www.stat.berkeley.edu/users/nolan/data/sat.csv")
?save
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT")
save(satDF, "satDF.rda")
save(satDF, satDF.rda)
save(satDF, file = "satDF.rda")
load(satDF.rda)
load("satDF.rda")
load("satDF.rda")
coplot(sat ~ expend | frac, data = satDF, xlab = "Expenditure", ylab = "SAT score")
View(satDF)
coplot(sat ~ salary | frac, data = satDF, xlab = "Expenditure", ylab = "SAT score")
summary(lm.SalFrac)
lm.SalFrac = lm(sat ~ salary + frac, data = satDF)
summary(lm.SalFrac)
lm.SalFrac = lm(sat ~ salary + frac, data = satDF)
summary(lm.SalFrac)
plot(sat ~ salary, data = satDF)
coplot(sat ~ salary | frac, data = satDF, xlab = "Teacher Salary", ylab = "SAT score")
plot(sat ~ ratio, data = satDF)
coplot(sat ~ ratio | frac, data = satDF, xlab = "Teacher Salary", ylab = "SAT score")
plot(sat ~ salary, data = satDF)
coplot(sat ~ salary | ratio, data = satDF, xlab = "Teacher Salary", ylab = "SAT score")
coplot(sat ~ salary | expend, data = satDF, xlab = "Teacher Salary", ylab = "SAT score")
View(satDF)
plot(math ~ salary, data = satDF)
coplot(math ~ salary | frac, data = satDF, xlab = "Teacher Salary", ylab = "SAT score")
coplot(math ~ salary | ratio, data = satDF, xlab = "Teacher Salary", ylab = "SAT score")
coplot(math ~ expend | frac, data = satDF, xlab = "Teacher Salary", ylab = "SAT score")
plot(math ~ expend, data = satDF)
coplot(math ~ expend | frac, data = satDF, xlab = "Teacher Salary", ylab = "SAT score")
plot(math ~ expend, data = satDF)
plot(math ~ salary, data = satDF)
coplot(math ~ salary | frac, data = satDF, xlab = "Teacher Salary", ylab = "SAT score")
coplot(math ~ salary | frac, data = satDF, xlab = "Teacher Salary", ylab = "SAT score")
plot(math ~ salary, data = satDF)
coplot(math ~ salary | frac, data = satDF, xlab = "Teacher Salary", ylab = "SAT score")
library(shiny)
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/satDF.rda")
library(ggplot2)
satDF$State
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1/my_app")
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1/my_app")
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1")
View(satDF)
state.name
identical(satDF$State, state.name)
satDF$State
identical(as.character(satDF$State), state.name)
as.character(satDF$State)
state.name
identical(as.character(satDF$State), state.name)
which(as.character(satDF$State) != state.name)
state.region
satDF$region = state.region
View(satDF)
save(satDF, file = "satDF.rda")
save(satDF, file = "satDF_region.rda")
load("satDF_region.rda")
library(ggplot2)
p<- ggplot(satDF, aes(satDF.expend, satDF.sat))
p + geom_point(aes(colour = satDF.region))
p + geom_point(aes(size = satDF.region))
p<- ggplot(satDF, aes(expend, sat))
p + geom_point(aes(colour = region))
p<- ggplot(satDF, aes(expend, sat))
p + geom_point(aes(colour = region))
p + geom_point(aes(size = region))
p + geom_point(aes(colour = region)) + geom_point(aes(size = region))
p + geom_point(aes(colour = region, size = region))
satDF$State = state.name
save(satDF, file = "satDF_new.rda")
load("satDF_new.rda")
load("satDF_new.rda")
View(satDF)
read.csv("https://www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt")
readline("https://www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt")
x = readlines("https://www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt")
x = read.Lines("https://www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt")
x = readLines("https://www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt")
x = read.table(https://www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt)
x = read.table("https://www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt")
x = read.table("www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt")
x = readLines("www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt")
x = readLines("1995_state_population.txt")
x = read.table("1995_state_population.txt")
x = read.csv("1995_state_population.txt")
x = read.csv("1995_state_population.txt", header = TRUE, skip = 15, sep ="")
x = readLines("1995_state_population.txt")
x
x = x[1:154]
x
x[16]
split(x[16], sep = "         ")
strsplit(x[16], split = "         ")
strsplit(x[16], split = "  ")
strsplit(x[56], split = "  ")
strsplit(x[56], split = " ")
strsplit(x[16], split = " ")
x
x = x[1:82]
x
x = x[1:79]
x
x = x[1:78]
x
x = x[14:78]
x
grep("[[:alpha:]+]", x)
grep("[^[:alpha:]]", x)
gsub("[^[:alpha:]]", " ",x)
x
gsub("[^[:alpha:]]", " ", x[1])
gsub("[^[:blank:][:alpha:]]", " ", x[1])
gsub("[^[:alpha:]]", "", x[1])
statenames = gsub("[^[:alpha:]]", "", x)
statenames
strsplit(x[1], split = "")
strsplit(x[1], split = " ")
y = strsplit(x, split = " ")
y
sapply(y, function(e) e[length(e)])
statenames = gsub("[^[:alpha:]]", "", x)
pop= strsplit(x, split = " ")
sapply(pop, function(e) e[length(e)])
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
population_df = data.frame(statenames, pop)
View(population_df)
cbind(satDF, population_df[15:65, ])
population_df[15:65, ]
View(population_df)
population_df[,1]
statenames = as.character(statenames)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
population_df = data.frame(statenames, pop)
cbind(satDF, population_df[15:65, ])
population_df[,1]
statenames = as.character(statenames)
statenames
pop = strsplit(x, split = " ")
population_df = data.frame(statenames, pop)
statenames
population_df = data.frame(statenames, pop)
pop
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
pop
population_df = data.frame(statenames, pop)
population_df
cbind(satDF, population_df[15:65, ])
population_df[,1]
population_df[15:65, ]
satDF$State
as.charcter(population_df[, 1])
as.character(population_df[, 1])
as.character(population_df[15:65, 1])
satDF$State
population_df[-9,]
population_df = population_df[-9,]
cbind(satDF, population_df[15:65, ])
population_df
population_df = data.frame(statenames, pop)
population_df = population_df[-23,]
population_df
cbind(satDF, population_df[15:65, ])
as.character(population_df[15:65, 1])
satDF$State
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
population_df = data.frame(statenames, pop)
population_df = population_df[-23,]
population_df
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
statenames
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
pop
population_df = data.frame(statenames, pop)
population_df
population_df = population_df[!23,]
population_df
population_df = data.frame(statenames, pop)
population_df = population_df[-23,]
population_df
population_df[15:65, ]
statenames = statenames[-23]
pop = pop[-23]
population_df = data.frame(statenames, pop)
population_df
cbind(satDF, population_df[15:64, ])
identical(satDF$State, population_df[15:64, 1])
identical(satDF$State, as.character(population_df[15:64, 1]))
identical(satDF$State, as.character(population_df[15:64, 1]))
as.character(population_df[15:64, 1])
satDF$State
satDF = bind(satDF, population_df[15:64, 2])
satDF = cbind(satDF, population_df[15:64, 2])
satDF
View(satDF)
satDF = cbind(satDF, StatePopulation = population_df[15:64, 2])
satDF
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
# remove extra district Columbia
statenames = statenames[-23]
pop = pop[-23]
population_df = data.frame(statenames, pop)
# combine population_df[15:65, ] with satDF
satDF = cbind(satDF, StatePopulation = population_df[15:64, 2])
satDF
View(satDF)
load("satDF_new.rda"
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
statenames = statenames[-23]
pop = pop[-23]
population_df = data.frame(statenames, pop)
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1/satDF_region.rda")
satDF$region = state.region
satDF$State = state.name
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
# remove extra district Columbia
statenames = statenames[-23]
pop = pop[-23]
population_df = data.frame(statenames, pop)
satDF_new = cbind(satDF, StatePopulation = population_df[15:64, 2])
View(satDF_new)
save(satDF, file = "satDF_new.rda")
load("satDF_new.rda")
View(satDF_new)
satDF_new$StatePopulation
as.numeric(satDF_new$StatePopulation)
as.character(satDF_new$StatePopulation)
as.numeric(as.character(satDF_new$StatePopulation))
pop = as.numeric(as.character(pop))
population_df = data.frame(statenames, pop)
satDF_new = cbind(satDF, StatePopulation = population_df[15:64, 2])
save(satDF, file = "satDF_new.rda")
load("satDF_new.rda")
View(satDF_new)
class(satDF_new$StatePopulation)
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1")
View(satDF_new)
class(satDF_new$StatePopulation)
p<- ggplot(satDF, aes(expend, sat))
p + geom_point(aes(colour = region, size = region))
p<- ggplot(satDF, aes(expend, sat))
p + geom_point(aes(colour = region, size = StatePopulation))
p<- ggplot(satDF_new, aes(expend, sat))
p + geom_point(aes(colour = region, size = StatePopulation))
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$expend, satDF_new$sat)
dat
head(dat)
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$expend, satDF_new$sat)
p<- ggplot(dat, aes(expend, sat))
p + geom_point(aes(colour = region, size = StatePopulation))
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$expend, satDF_new$sat)
p<- ggplot(dat, aes(expend, sat))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation))
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$expend, satDF_new$sat)
p<- ggplot(dat, aes(satDF_new.expend, satDF_new.sat))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation))
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$expend, satDF_new$sat)
head(dat)
class(dat$satDF_new.StatePopulation)
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1/satDF_new.rda")
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/satDF.rda")
# data manipulation for easy use of ggplot
# add state.region to satDF
satDF$region = state.region
satDF$State = state.name
# scrape state population data from website
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
# remove extra district Columbia
statenames = statenames[-23]
pop = pop[-23]
pop = as.numeric(as.character(pop))
population_df = data.frame(statenames, pop)
# combine population_df[15:65, ] with satDF
satDF_new = cbind(satDF, StatePopulation = population_df[15:64, 2])
save(satDF, file = "satDF_new.rda")
load("satDF_new.rda")
load("satDF_new.rda")
library(shiny)
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1/satDF_new.rda")
shinyUI(fluidPage(
# Application title
titlePanel("scatterplot"),
# inputs
sidebarLayout(
sidebarPanel(
selectInput("x", "Choose an x variable:", choices = names(satDF_new)[2:5],
selected = names(satDF_new)[2]),
selectInput("y", "Choose a y variable", choices = names(satDF_new)[6:8],
selected = names(satDF_new)[8])
),
# Show the plots
mainPanel(
plotOutput("scatterPlot")
)
)
))
library(shiny)
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1/satDF_new.rda")
# Note! Need to rename the variables
library(ggplot2)
# Define server logic required to draw a scatterplot
shinyServer(function(input, output) {
output$text <- renderText({
input$title
})
output$scatterPlot <- renderPlot({
x <- satDF_new[ , input$x]
y <- satDF_new[ , input$y]
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, x, y)
# par(mar = c(5.1, 4.1, 0, 1))
# plot(x, y, pch = 19, col = "blue", cex = 2,
# main = input$main, xlab = input$xlab, ylab = input$ylab)
p<- ggplot(dat, aes(x, y))
p + geom_point(aes(colour = satDF_new.region))
})
})
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1/satDF_new.rda")
View(satDF)
load("satDF_new.rda")
satDF_new = cbind(satDF, StatePopulation = population_df[15:64, 2])
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/satDF.rda")
# data manipulation for easy use of ggplot
# add state.region to satDF
satDF$region = state.region
satDF$State = state.name
# scrape state population data from website
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
# remove extra district Columbia
statenames = statenames[-23]
pop = pop[-23]
pop = as.numeric(as.character(pop))
population_df = data.frame(statenames, pop)
# combine population_df[15:65, ] with satDF
satDF_new = cbind(satDF, StatePopulation = population_df[15:64, 2])
# save(satDF_new, file = "satDF_new.rda")
save(satDF_new, file = "satDF_new.rda")
load("satDF_new.rda"
load("satDF_new.rda")
load("satDF_new.rda")
p <- ggplot(dat, aes(x, y))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation,
label = satDF_new.State))
satDF_new$State
crime <-read.csv("http://datasets.flowingdata.com/crimeRatesByState2005.tsv", header=TRUE, sep="\t")
crime
View(crime)
crime$state
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/satDF.rda")
satDF$region = state.region
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
# remove extra district Columbia
statenames = statenames[-23]
pop = pop[-23]
pop = as.numeric(as.character(pop))
population_df = data.frame(statenames, pop)
# combine population_df[15:65, ] with satDF
satDF_new = cbind(satDF, StatePopulation = population_df[15:64, 2])
save(satDF_new, file = "satDF_new.rda")
load("satDF_new.rda")
satDF_new$State
View(satDF_new)
library("shiny")
runApp("shinyEx1")
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/templates")
runApp("shinyEx1")
runApp("shinyEx2")
runApp("shinyEx4/")
runApp("census-app/")
load("satDF_new.rda")
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1/my_app")
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1/my_app")
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1")
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1")
load("satDF_nVew.rda")
load("satDF_new.rda")
formulaText
View(satDF_new)
rename(satDF_new, c("sat" = "SAT Total", "math" = "SAT Math Score", "verbal" = "SAT Verbal Score", "expend"="Expenditure", "salary"="Teacher Salary", "ratio" ="Student-Teacher Ratio", "frac" = "Eligibal Student Fraction"))
library(plyr)
rename(satDF_new, c("sat" = "SAT Total", "math" = "SAT Math Score", "verbal" = "SAT Verbal Score", "expend"="Expenditure", "salary"="Teacher Salary", "ratio" ="Student-Teacher Ratio", "frac" = "Eligibal Student Fraction"))
sat = rename(satDF_new, c("sat" = "SAT Total", "math" = "SAT Math Score", "verbal" = "SAT Verbal Score", "expend"="Expenditure", "salary"="Teacher Salary", "ratio" ="Student-Teacher Ratio", "frac" = "Eligibal Student Fraction"))
View(sat)
library(plyr)
satDF_new = rename(satDF_new, c("sat" = "SAT Total", "math" = "SAT Math Score", "verbal" = "SAT Verbal Score", "expend"="Expenditure", "salary"="Teacher Salary", "ratio" ="Student-Teacher Ratio", "frac" = "Eligibal Student Fraction"))
save(satDF_new, file = "satDF_new.rda")
load("satDF_new.rda")
View(satDF_new)
satDF_new = rename(satDF_new, c("sat" = "SAT Total Score", "math" = "SAT Math Score", "verbal" = "SAT Verbal Score", "expend"="Expenditure", "salary"="Teacher Salary", "ratio" ="Student-Teacher Ratio", "frac" = "Eligibal Student Fraction"))
library(plyr)
satDF_new = rename(satDF_new, c("sat" = "SAT Total Score", "math" = "SAT Math Score", "verbal" = "SAT Verbal Score", "expend"="Expenditure", "salary"="Teacher Salary", "ratio" ="Student-Teacher Ratio", "frac" = "Eligibal Student Fraction"))
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/satDF.rda")
# data manipulation for easy use of ggplot
# add state.region to satDF
satDF$region = state.region
# scrape state population data from website
# https://www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
# remove extra district Columbia
statenames = statenames[-23]
pop = pop[-23]
pop = as.numeric(as.character(pop))
population_df = data.frame(statenames, pop)
# combine population_df[15:65, ] with satDF
satDF_new = cbind(satDF, StatePopulation = population_df[15:64, 2])
library(plyr)
satDF_new = rename(satDF_new, c("sat" = "SAT Total Score", "math" = "SAT Math Score", "verbal" = "SAT Verbal Score", "expend"="Expenditure", "salary"="Teacher Salary", "ratio" ="Student-Teacher Ratio", "frac" = "Eligibal Student Fraction"))
save(satDF_new, file = "satDF_new.rda")
load("satDF_new.rda")
options
shinyAppDir
library(shiny)
shinyAppDir
?shinyAppDir
?runApp
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1")
load("satDF_new.rda")
library(ggplot2)
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$expend, satDF_new$sat)
p<- ggplot(dat, aes(satDF_new.expend, satDF_new.sat))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_area(range = c(1, 25))
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1")
load("satDF_new.rda")
library(ggplot2)
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$expend, satDF_new$sat)
p
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$expend, satDF_new$sat)
satDF_new
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.expend, satDF_new.sat))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_area(range = c(1, 25))
p<- ggplot(dat, aes(satDF_new.expend, satDF_new.sat))
p
p<- ggplot(dat, aes(satDF_new.expend, satDF_new.sat))
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new.`SAT Total Score`))
dat
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_area(range = c(1, 25))
dat
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_area(range = c(1, 25))
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_size_area(range = c(1, 25))
library(grid)
output$caption
caption
?caption
