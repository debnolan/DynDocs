setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1_0.3")
load("satDF_new.rda")
library(ggplot2)
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_size(range = c(0, 10))
theme_bw()+
theme(axis.title.x=element_text(vjust = -1),
axis.title.y=element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title=element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white"))
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_size(range = c(0, 30))
theme_bw()+
theme(axis.title.x=element_text(vjust = -1),
axis.title.y=element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title=element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white"))
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
theme_bw()+
theme(axis.title.x=element_text(vjust = -1),
axis.title.y=element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title=element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white"))+
scale_size(range = c(0, 30))
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation),
scale_size(range = c(0, 30))) +
theme_bw()+
theme(axis.title.x=element_text(vjust = -1),
axis.title.y=element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title=element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white"))
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1_0.2")
load("satDF_new.rda")
library(ggplot2)
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_size(range = c(0, 10)) +
theme_bw() +
theme(axis.title.x=element_text(vjust = -1),
axis.title.y=element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title=element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white"))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_size(range = c(0, 10)) +
theme_bw() +
theme(axis.title.x=element_text(vjust = -1),
axis.title.y=element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title=element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white"))
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_size(range = c(0, 25)) +
theme_bw() +
theme(axis.title.x=element_text(vjust = -1),
axis.title.y=element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title=element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white"))
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_size(range = c(0, 20)) +
theme_bw() +
theme(axis.title.x=element_text(vjust = -1),
axis.title.y=element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title=element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white"))
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_size(range = c(0, 20)) +
theme_bw() +
theme(axis.title.x = element_text(vjust = -1),
axis.title.y = element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title = element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white"),
legend.key.size = unit(0.5, "cm")
)
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1_0.3")
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1_0.3")
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1_0.3")
library(grid)
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_size(range = c(0, 20)) +
theme_bw() +
theme(axis.title.x = element_text(vjust = -1),
axis.title.y = element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title = element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white"),
legend.key.size = unit(0.5, "cm")
)
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_size(range = c(0, 20)) +
theme_bw() +
theme(axis.title.x = element_text(vjust = -1),
axis.title.y = element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title = element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white")
# legend.key.size = unit(0.5, "cm")
)
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_size(range = c(0, 20)) +
theme_bw() +
theme(axis.title.x = element_text(vjust = -1),
axis.title.y = element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title = element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white"),
legend.key.size = unit(0.5, "cm")
dat <- data.frame(satDF_new$region, satDF_new$StatePopulation, satDF_new$Expenditure, satDF_new$`SAT Total Score`)
p<- ggplot(dat, aes(satDF_new.Expenditure, satDF_new..SAT.Total.Score.))
p + geom_point(aes(colour = satDF_new.region, size = satDF_new.StatePopulation)) +
scale_size(range = c(0, 20)) +
theme_bw() +
theme(axis.title.x = element_text(vjust = -1),
axis.title.y = element_text(angle = 90, vjust = 1),
plot.title = element_text(colour = "black"),
plot.title = element_text(size = 15, vjust = 3),
legend.position="top",
legend.key = element_rect(colour = "white"),
legend.key.size = unit(0.5, "cm")
)
load(satDF_new)
load("satDF_new")
load("../satDF_new")
load("satDF_new")
load("satDF_new.rda")
state.names
state.name
satDF_new$State = state.name
sapply(satDF_new$Expenditure,
function(e) paste("$", as.character(e)))
sapply(satDF_new$Expenditure,
function(e) paste("$", as.character(e), sep = ""))
satDF_new$`Teacher Salary` = sapply(satDF_new$`Teacher Salary`,
function(e) paste("$", as.character(e), sep = ""))
View(satDF_new)
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1_0.1")
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/satDF.rda")
# data manipulation for easy use of ggplot
# add state.region to satDF
satDF$Region = state.region
# scrape state population data from website
# https://www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
# remove extra district Columbia
statenames = statenames[-23]
pop = pop[-23]
pop = as.numeric(as.character(pop))
population_df = data.frame(statenames, pop)
# combine population_df[15:65, ] with satDF
satDF_new = cbind(satDF, StatePopulation = population_df[15:64, 2])
library(plyr)
satDF_new = rename(satDF_new, c("sat" = "SAT Total Score", "math" = "SAT Math Score", "verbal" = "SAT Verbal Score", "expend"="Expenditure", "salary"="Teacher Salary", "ratio" ="Student-Teacher Ratio", "frac" = "Eligibal Student Fraction"))
# save(satDF_new, file = "satDF_new.rda")
load("satDF_new.rda")
View(satDF_new)
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1_0.1")
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/satDF.rda")
# data manipulation for easy use of ggplot
# add state.region to satDF
satDF$Region = state.region
View(satDF)
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
# remove extra district Columbia
statenames = statenames[-23]
pop = pop[-23]
pop = as.numeric(as.character(pop))
population_df = data.frame(statenames, pop)
# combine population_df[15:65, ] with satDF
satDF_new = cbind(satDF, StatePopulation = population_df[15:64, 2])
View(satDF_new)
library(plyr)
satDF_new = rename(satDF_new, c("sat" = "SAT Total Score", "math" = "SAT Math Score", "verbal" = "SAT Verbal Score", "expend"="Expenditure", "salary"="Teacher Salary", "ratio" ="Student-Teacher Ratio", "frac" = "Eligibal Student Fraction"))
# save(satDF_new, file = "satDF_new.rda")
load("satDF_new.rda")
View(satDF_new)
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1_0.1")
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/satDF.rda")
# data manipulation for easy use of ggplot
# add state.region to satDF
satDF$Region = state.region
# scrape state population data from website
# https://www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
# remove extra district Columbia
statenames = statenames[-23]
pop = pop[-23]
pop = as.numeric(as.character(pop))
population_df = data.frame(statenames, pop)
# combine population_df[15:65, ] with satDF
satDF_new = cbind(satDF, StatePopulation = population_df[15:64, 2])
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/satDF.rda")
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/satDF.rda")
# data manipulation for easy use of ggplot
# add state.region to satDF
satDF$Region = state.region
#
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
# remove extra district Columbia
statenames = statenames[-23]
pop = pop[-23]
pop = as.numeric(as.character(pop))
population_df = data.frame(statenames, pop)
# combine population_df[15:65, ] with satDF
satDF_new = cbind(satDF, StatePopulation = population_df[15:64, 2])
satDF_new
satDF_new = rename(satDF_new, c("sat" = "SAT Total Score", "math" = "SAT Math Score", "verbal" = "SAT Verbal Score", "expend"="Expenditure", "salary"="Teacher Salary", "ratio" ="Student-Teacher Ratio", "frac" = "Eligibal Student Fraction", "StatePopulation" = "State Population"))
save(satDF_new, file = "satDF_new.rda")
load("satDF_new.rda"
c
load("satDF_new.rda")
View(satDF_new)
---
load("satDF_new.rda")
load("../rda_data/satDF_new.rda")
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/rda_data/satDF.rda")
load("../rda_data/satDF_new.rda")
load("../rda_data/satDF_new.rda")
load("../rda_data/satDF_new.rda")
load("../rda_data/satDF_new.rda")
setwd("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/shiny_plot1_0.1")
load("~/Dropbox/Senior_Research/Stat_Summer15_Research/DynDocs/SAT/rda_data/satDF.rda")
# data manipulation for easy use of ggplot
# add state.region to satDF
satDF$Region = state.region
# scrape state population data from website
# https://www.census.gov/popest/data/state/totals/1990s/tables/ST-99-03.txt
x = readLines("1995_state_population.txt")
x = x[14:78]
statenames = gsub("[^[:alpha:]]", "", x)
pop = strsplit(x, split = " ")
pop = sapply(pop, function(e) e[length(e)])
# remove extra district Columbia
statenames = statenames[-23]
pop = pop[-23]
pop = as.numeric(as.character(pop))
population_df = data.frame(statenames, pop)
# combine population_df[15:65, ] with satDF
satDF_new = cbind(satDF, StatePopulation = population_df[15:64, 2])
library(plyr)
satDF_new = rename(satDF_new, c("sat" = "SAT Total Score", "math" = "SAT Math Score", "verbal" = "SAT Verbal Score", "expend"="Expenditure", "salary"="Teacher Salary", "ratio" ="Student-Teacher Ratio", "frac" = "Eligible Student Fraction", "StatePopulation" = "State Population"))
save(satDF_new, file = "../rda_data/satDF_new.rda")
load("../rda_data/satDF_new.rda")
reformat data for display
load("../rda_data/satDF_new.rda")
satDF_new$State = state.name
satDF_new$Expenditure = sapply(satDF_new$Expenditure,
function(e) paste("$", as.character(e), sep = ""))
satDF_new$`Teacher Salary` = sapply(satDF_new$`Teacher Salary`,
function(e) paste("$", as.character(e), sep = ""))
satDF_new$`State Population` = sapply(satDF_new$`State Population`, function(e) format(e, big.mark=",", scientific=FALSE))
satDF_pretty = satDF_new
save(satDF_pretty, file = "../rda_data/satDF_pretty.rda")
load("../rda_data/satDF_pretty.rda")
